# 대칭키 & 비대칭키 암호화

대칭키 암호화

암호화 및 복호화를 하나의 키로 수행

문제점 : 송신자와 수신자가 서로 동일한 내용의 대칭키를 미리 알아야 한다.

비대칭키 암호화

RSA, AES와 같은 암호화 알고리즘이 모두 공개되어 있지만, 복호화 시키기 어렵다.

이것이 바로 SSL/TLS에서 사용하는 RSA 공개키 암호화 방식

인증서와 공개키의 무결성 검증이 필요한 이유

CA : Certificatae Authority - 인증 기관

인증서 체인 (Certificate Chain)

만약 해커가 인증서와 인증서에 포함된 공개키를 조작하여 유저에게 보내고 유저는 이를 신뢰하여 보내준 공개키로 암호화하여 통신을 시도한다면, 해커는 도감청이 가능하다. RSA의 탁월한 알고리즘의 원리와는 상관없이. 따라서 수신받은 인증서와 공개키가 정말 믿을 만한 것인지를 확인하는 과정이 꼭 필요하다

해쉬와 디지털 서명(Hash and Digital Signing)

-   서버는 내가 발행한 공개키를 보증받기 위해 ca에 공개키를 등록한다.
    
-   서버가 발행한 공개키를 CA가 보증해준다.
    
-   인증기관이 나의 공개키를 보증하기 위해 서명을 하는데, 서명이란 공개키가 해쉬된 값 (SHA 256 등으로 해쉬된 값)을 인증기관의 비밀키로 암호화한 결과값을 디지털 서명이라고 한다.
    
    → 쉽게 말하면,
    
    1.  공개키에 대해서 (해쉬 한 후) 인증기관의 비밀키로 암호화 한다.
    2.  역으로 CA에서 발급한 공개키로 이 디지털 서명값을 복호화하면 인증서에 대한 해쉬값을 얻을 수 있다.
    3.  인증서에 등록된 해쉬값과 인증기관에서 발행한 공개키로 서명값을 복호화해서 나온 해쉬값이 동일하면 인증서의 내용과 공개키가 위변조 되지 않았음을 보증할 수 있다.
    
    [RSA 인증서 (Certification) 와 전자서명 (Digital Sign)의 원리](https://rsec.kr/?p=426)
    
    [NAVER D2](https://d2.naver.com/helloworld/744920)
    
    NAVER D2
    
    네이버와 같은 대형 포털에서 일반 사용자에게 제공하는 Windows 애플리케이션을 안전하게 배포하기 위해 각 애플리케이션에 적용한 전자 서명 기술에 대한 이야기입니다.
    

[네이버 애플리케이션의 전자 서명 원리](https://www.notion.so/0e53d66068464532b33275a9b540cd96)

전자서명에서는 복호화에 쓰이는 키가 공개된다는 점이 특이하다

무결성

무결성이란 A가 B에게 메시지를 전송할 경우, 메시지가 중간에 변조되지 않는 것을 의미한다. 무결성을 확인한다는 것은 바이너리가 변조되지 않았음을 확인하는 것이며 이때 사용되는 기술이 바로 해시 함수이다.

서명

해싱된 지문을 공개키로 암호화한 것

유효성 검증

유효성 검증이란 인증서가 변조되지 않았고, 인증서가 네이버의 것임을 확인하는 절차이다.
